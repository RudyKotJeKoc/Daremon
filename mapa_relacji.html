<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kronika manipulacji: Szczegółowa analiza planu Barbary Adamskiej cofnięcia darowizny nieruchomości jej synowi Dariuszowi. Oś czasu, analiza prawna i psychologiczna.">
    <meta name="keywords" content="darowizna, cofnięcie darowizny, rażąca niewdzięczność, manipulacja, Kodeks cywilny, Barbara Adamska, Dariusz Adamski">
    <title>Kronika Manipulacji: Plan Cofnięcia Darowizny</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        darkBg: '#1a202c',
                        accent: '#ed64a6',
                    },
                    fontFamily: {
                        sans: ['Roboto', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body { background-color: #1a202c; color: #f7fafc; }
        .timeline { display: flex; flex-direction: column; position: relative; }
        .timeline-item { position: relative; margin-bottom: 2rem; padding-left: 2rem; }
        .timeline-item::before { content: ''; position: absolute; left: 0.75rem; top: 0; bottom: -2rem; width: 2px; background: #ed64a6; }
        .timeline-dot { position: absolute; left: 0; top: 0; width: 1.5rem; height: 1.5rem; background: #ed64a6; border-radius: 50%; }
        .modal { display: none; position: fixed; z-index: 50; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.8); }
        .modal-content { background-color: #2d3748; margin: 15% auto; padding: 20px; border: 1px solid #ed64a6; width: 80%; max-width: 800px; }
        .tooltip { position: relative; display: inline-block; cursor: pointer; }
        .tooltip .tooltiptext { visibility: hidden; width: 200px; background-color: #2d3748; color: #fff; text-align: center; border-radius: 6px; padding: 5px; position: absolute; z-index: 1; bottom: 125%; left: 50%; margin-left: -100px; opacity: 0; transition: opacity 0.3s; }
        .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }
        .speech-bubble { position: absolute; background: #2d3748; border: 1px solid #ed64a6; padding: 10px; border-radius: 10px; display: none; z-index: 10; width: 200px; }
        .speech-bubble::after { content: ''; position: absolute; bottom: -10px; left: 50%; border-width: 10px; border-style: solid; border-color: #2d3748 transparent transparent transparent; }
    </style>
</head>
<body class="font-sans antialiased">
    <header class="bg-darkBg text-white py-8 text-center">
        <h1 class="text-4xl font-bold">Kronika Manipulacji</h1>
        <p class="text-xl mt-2">Plan Barbary Adamskiej cofnięcia darowizny nieruchomości jej synowi – Dariuszowi</p>
    </header>

    <section class="container mx-auto px-4 py-8">
        <h2 class="text-3xl font-bold mb-4">Interaktywna Oś Czasu</h2>
        <div class="flex justify-end mb-4">
            <select id="filter" class="bg-gray-800 text-white p-2 rounded">
                <option value="all">Wszystkie wydarzenia</option>
                <option value="legal">Dokumenty prawne</option>
                <option value="barbara">Działania Barbary</option>
                <option value="dariusz">Reakcje Dariusza</option>
            </select>
        </div>
        <div id="timeline" class="timeline">
            <!-- Timeline items will be generated by JS -->
        </div>
        <button id="exportPdf" class="bg-accent text-white px-4 py-2 rounded mt-4">Eksportuj PDF z całą osią czasu</button>
    </section>

    <section class="container mx-auto px-4 py-8 bg-gray-800 rounded-lg">
        <h2 class="text-3xl font-bold mb-4">Analiza Prawna</h2>
        <p class="mb-4">Poniżej cytaty z Kodeksu cywilnego i orzeczenia sądowe dotyczące cofnięcia darowizny.</p>
        <h3 class="text-2xl mb-2">Art. 898 § 1 KC</h3>
        <blockquote class="italic mb-4">"Jeżeli obdarowany dopuścił się względem darczyńcy rażącej niewdzięczności, darczyńca może darowiznę odwołać w ciągu roku od dnia, w którym dowiedział się o niewdzięczności obdarowanego."</blockquote>
        <h3 class="text-2xl mb-2">Art. 899 § 3 KC</h3>
        <blockquote class="italic mb-4">"Darowizna nie może być odwołana po upływie roku od dnia, w którym darczyńca dowiedział się o niewdzięczności obdarowanego."</blockquote>
        <h3 class="text-2xl mb-2">Orzeczenia Sądowe</h3>
        <p class="mb-4">Wyrok SA w Lublinie, I ACa 28/17: Sąd uznał, że prowokacje darczyńcy podważają zarzut rażącej niewdzięczności.</p>
        <p>Wnioski: Manipulacja pełnomocnictwem i prowokacje wskazują na brak podstaw do odwołania darowizny, jako że zachowania Dariusza były reakcją na działania Barbary.</p>
    </section>

    <section class="container mx-auto px-4 py-8">
        <h2 class="text-3xl font-bold mb-4">Sekcja Prywatna</h2>
        <p class="mb-4">Aby uzyskać dostęp do załączników PDF i notatek z kalendarza, wprowadź hasło.</p>
        <input type="password" id="password" class="bg-gray-800 text-white p-2 rounded" placeholder="Hasło">
        <button id="unlock" class="bg-accent text-white px-4 py-2 rounded ml-2">Odblokuj</button>
        <div id="privateContent" class="hidden mt-4">
            <p>Załączniki: <a href="#" class="text-accent">Notatki z kalendarza (PDF)</a> | <a href="#" class="text-accent">Pełnomocnictwo (PDF)</a></p>
        </div>
    </section>

    <!-- Modal Template -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close cursor-pointer text-right text-2xl">&times;</span>
            <h2 id="modalTitle" class="text-2xl mb-4"></h2>
            <p id="modalDesc"></p>
            <div id="modalPsych" class="mt-4 italic"></div>
        </div>
    </div>

    <script>
        const events = [
            { date: '7 lipca 2017', title: 'Akt darowizny', desc: 'Sylwester daruje nieruchomość Dariuszowi z służebnością.', category: 'legal', psych: 'Punkt wyjścia planu.', quote: 'Czy ty wiesz co to jest służebność?' },
            { date: 'Luty 2021', title: 'Początek konfliktu', desc: 'Barbara sugeruje związek z Julią.', category: 'barbara', psych: 'Obsesyjne zachowania jako prowokacja.', quote: 'To nie jest plotkowanie – to budowanie sprawy.' },
            { date: '10 lutego 2021', title: 'Wtargnięcie do pokoju', desc: 'Barbara wchodzi w nocy i wyzywa.', category: 'barbara', psych: 'Celowa prowokacja.', quote: 'To nie jest kwestia uczuć, tylko przetrwania.' },
            { date: 'Od lutego 2021', title: 'Notatki w kalendarzu', desc: 'Systematyczne dokumentowanie.', category: 'barbara', psych: 'Premedytacja inspirowana przez siostrę.', quote: 'Każde zdarzenie opisywać i dokumentować.' },
            { date: 'Przed postępowaniem karnym', title: 'Konsultacje prawne', desc: 'Barbara konsultuje cofnięcie darowizny.', category: 'legal', psych: 'Długofalowy plan.', quote: 'Myślenie kilka kroków do przodu.' },
            { date: '29 marca 2021', title: 'Incydent z prądem', desc: 'Barbara wyłącza prąd i wzywa policję.', category: 'barbara', psych: 'Manipulacja pretekstami.', quote: 'Szansa, żeby odzyskać kontrolę.' },
            { date: 'Maj 2021', title: 'Oskarżenia o inwigilację', desc: 'Zamykanie pomieszczeń i kamery.', category: 'dariusz', psych: 'Reakcja na prowokacje.', quote: 'On już nie ogarnia – podpisze wszystko.' },
            { date: '19 lipca 2021', title: 'Pełnomocnictwo', desc: 'Barbara uzyskuje pełnomocnictwo od Sylwestra.', category: 'legal', psych: 'Instrumentalizacja choroby. <span class="tooltip">Szansa na wylew<span class="tooltiptext">Psychologiczna manipulacja wykorzystująca słabość.</span></span>', quote: 'Choroba to szansa.' },
            { date: '3 sierpnia 2021', title: 'Zeznania Sylwestra', desc: 'Brak zarzutów o znęcanie.', category: 'legal', psych: 'Rozbieżność z planem Barbary.', quote: 'Tylko żona dba o mnie.' },
            { date: '6 sierpnia 2021', title: 'Oświadczenie o odwołaniu', desc: 'List z zarzutami.', category: 'legal', psych: 'Manipulacja pełnomocnictwem.', quote: 'Rażąca niewdzięczność.' },
            { date: 'Lipiec-sierpień 2021', title: 'Niebieska Karta', desc: 'Inicjatywa Barbary.', category: 'barbara', psych: 'Gromadzenie dowodów.', quote: 'Zebranie materiału do oskarżenia.' },
            { date: 'Połowa sierpnia 2021', title: 'Wyprowadzka Dariusza', desc: 'Ucieczka przed nękaniem.', category: 'dariusz', psych: 'Depresja spowodowana atakami.', quote: 'Chciała odwetu.' },
            { date: '29 kwietnia 2022', title: 'Pozew', desc: 'Wniosek o cofnięcie darowizny.', category: 'legal', psych: 'Realizacja planu.', quote: 'To nie rozwiązanie, to odwet.' },
        ];

        function renderTimeline(filter = 'all') {
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '';
            events.filter(e => filter === 'all' || e.category === filter).forEach((event, index) => {
                const item = document.createElement('div');
                item.className = 'timeline-item bg-gray-800 p-4 rounded shadow cursor-pointer relative';
                item.innerHTML = `
                    <div class="timeline-dot"></div>
                    <h3 class="text-xl font-bold">${event.date}: ${event.title}</h3>
                    <p>${event.desc}</p>
                    <div class="speech-bubble" style="display:none;">${event.quote}</div>
                `;
                item.addEventListener('click', () => openModal(event));
                item.addEventListener('mouseover', (e) => {
                    const bubble = item.querySelector('.speech-bubble');
                    bubble.style.display = 'block';
                    bubble.style.left = `${e.offsetX}px`;
                    bubble.style.top = `${e.offsetY - 50}px`;
                });
                item.addEventListener('mouseout', () => item.querySelector('.speech-bubble').style.display = 'none');
                timeline.appendChild(item);
            });
        }

        function openModal(event) {
            document.getElementById('modalTitle').textContent = `${event.date}: ${event.title}`;
            document.getElementById('modalDesc').textContent = event.desc;
            document.getElementById('modalPsych').innerHTML = `Analiza psychologiczna: ${event.psych}`;
            document.getElementById('modal').style.display = 'block';
        }

        document.querySelector('.close').addEventListener('click', () => document.getElementById('modal').style.display = 'none');
        document.getElementById('filter').addEventListener('change', (e) => renderTimeline(e.target.value));
        document.getElementById('unlock').addEventListener('click', () => {
            if (document.getElementById('password').value === 'haslo123') { // Przykładowe hasło
                document.getElementById('privateContent').classList.remove('hidden');
            } else {
                alert('Nieprawidłowe hasło');
            }
        });

        document.getElementById('exportPdf').addEventListener('click', () => {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.text('Kronika Manipulacji: Oś Czasu', 10, 10);
            let y = 20;
            events.forEach(event => {
                doc.text(`${event.date}: ${event.title} - ${event.desc}`, 10, y);
                y += 10;
            });
            doc.save('os_czasu.pdf');
        });

        renderTimeline();
    </script>
</body>
</html>